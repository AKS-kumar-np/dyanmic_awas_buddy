{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homigo - Find Rooms for Rent in Nepal</title>
    <link rel="stylesheet" href='{% static "homgiostyle.css" %}'>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            üè† {{ project_name }}
        </div>
        <div class="nav-links">
            <a href="#rooms">Rooms</a>
            <a href="#about">About</a>
            <a href="#contact">Contact</a>
            <a href="#help">Help</a>
        </div>
        <button class="list-room-btn">List Your Room</button>
    </nav>

    <section class="hero">
        <div class="hero-content">
            <h1>Find Your Perfect <span>Room</span> in Nepal</h1>
            <p class="hero-subtitle">Browse thousands of available rooms across Kathmandu, Lalitpur, and Bhaktapur</p>
            
            <div class="search-wrapper">
                <input type="text" class="search-input" placeholder="Search by location (e.g., Koteshwor, Baneshwor, Pulchowk...)">
                <button class="search-btn">Search</button>
            </div>
        </div>
    </section>

    <section class="main-content">
        <div class="filters-bar">
            <div class="filter-chip active">All Rooms</div>
            <div class="filter-chip">Single Room</div>
            <div class="filter-chip">Double Room</div>
            <div class="filter-chip">Attached Kitchen</div>
            <div class="filter-chip">Flats</div>
            <div class="filter-chip">Apartments</div>
            <div class="filter-chip">Furnished</div>
            <div class="filter-chip">Unfurnished</div>
        </div>

        <div class="content-wrapper">
            <aside class="sidebar">
                <div class="filter-section">
                    <h3>Price Range</h3>
                    <div class="price-range">
                        <input type="range" min="4000" max="60000" value="30000" style="width: 100%; accent-color: #ff6b35;">
                        <div class="price-inputs">
                            <input type="text" class="price-input" value="Rs 4,000">
                            <span>‚Äî</span>
                            <input type="text" class="price-input" value="Rs 60,000">
                        </div>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>Location</h3>
                    <div class="checkbox-list">
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Kathmandu</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Lalitpur</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Bhaktapur</span>
                        </label>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>Amenities</h3>
                    <div class="checkbox-list">
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>WiFi</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Parking</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>24/7 Water</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Attached Bathroom</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Balcony</span>
                        </label>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>Preferred For</h3>
                    <div class="checkbox-list">
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Students</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Working Professionals</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Family</span>
                        </label>
                    </div>
                </div>
            </aside>

            <div class="rooms-grid">
                <div class="results-header">
                    <div class="results-count">342 rooms available</div>
                    <select class="sort-dropdown">
                        <option>Sort by: Recommended</option>
                        <option>Price: Low to High</option>
                        <option>Price: High to Low</option>
                        <option>Newest First</option>
                    </select>
                </div>

                <div class="rooms-container" id="roomsContainer"></div>
            </div>
        </div>
    </section>

    <div class="modal" id="roomModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <div class="modal-images-grid" id="modalImages"></div>
            <div class="modal-details" id="modalDetails"></div>
        </div>
    </div>

    <footer>
        <p>¬© 2025 Homigo Nepal. All rights reserved. Your trusted room rental platform.</p>
    </footer>

    <script>
        // Enhanced HomigoApp class with integrated room management
        class HomigoApp {
            constructor() {
                this.rooms = this.loadRooms();
                this.filteredRooms = [...this.rooms];
                this.favorites = new Set();
                this.currentSort = 'recommended';
                this.activeFilters = {
                    priceRange: { min: 4000, max: 60000 },
                    locations: [],
                    amenities: [],
                    preferredFor: [],
                    roomTypes: []
                };

                this.init();
            }

            init() {
                this.initializeEventListeners();
                this.initializeFilters();
                this.renderRooms();
                this.updateResultsCount();
                this.loadFavorites();
            }

            loadRooms() {
                // Load default rooms from the original array
                const defaultRooms = window.defaultRooms || [];
                
                // Load user-added rooms from localStorage
                const userRoomsJson = localStorage.getItem('homigo-approved-rooms');
                const userRooms = userRoomsJson ? JSON.parse(userRoomsJson) : [];
                
                console.log('Default rooms:', defaultRooms.length);
                console.log('User rooms:', userRooms.length);
                
                // Combine both arrays - user rooms first, then default rooms
                const allRooms = [...userRooms, ...defaultRooms];
                
                console.log('Total rooms:', allRooms.length);
                
                return allRooms;
            }

            loadFavorites() {
                const saved = localStorage.getItem('homigo-favorites');
                if (saved) {
                    this.favorites = new Set(JSON.parse(saved));
                }
            }

            saveFavorites() {
                localStorage.setItem('homigo-favorites', JSON.stringify([...this.favorites]));
            }

            initializeEventListeners() {
                // Search functionality
                const searchBtn = document.querySelector('.search-btn');
                const searchInput = document.querySelector('.search-input');
                
                searchBtn.addEventListener('click', () => this.handleSearch());
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.handleSearch();
                });

                // Filter chips
                document.querySelectorAll('.filter-chip').forEach(chip => {
                    chip.addEventListener('click', (e) => this.handleFilterChip(e.target));
                });

                // Price range slider
                const priceSlider = document.querySelector('.price-range input[type="range"]');
                const minPriceInput = document.querySelector('.price-inputs input:first-child');
                const maxPriceInput = document.querySelector('.price-inputs input:last-child');

                priceSlider.addEventListener('input', (e) => {
                    this.handlePriceSliderChange(e.target.value);
                });

                minPriceInput.addEventListener('change', (e) => {
                    this.handlePriceInputChange('min', e.target.value);
                });

                maxPriceInput.addEventListener('change', (e) => {
                    this.handlePriceInputChange('max', e.target.value);
                });

                // Checkbox filters
                document.querySelectorAll('.checkbox-item input[type="checkbox"]').forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => this.handleCheckboxChange(e.target));
                });

                // Sort dropdown
                const sortDropdown = document.querySelector('.sort-dropdown');
                sortDropdown.addEventListener('change', (e) => {
                    this.handleSortChange(e.target.value);
                });

                // List Room button - Redirect to submission page
                const listRoomBtn = document.querySelector('.list-room-btn');
                listRoomBtn.addEventListener('click', () => {
                    window.location.href = 'room-submission.html';
                });

                // Navigation links
                document.querySelectorAll('.nav-links a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.handleNavigation(e.target.getAttribute('href'));
                    });
                });

                // Close modal with escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') this.closeModal();
                });

                // Check for successful submission
                this.checkSubmissionSuccess();

                // Click outside modal to close
                document.getElementById('roomModal').addEventListener('click', (e) => {
                    if (e.target === document.getElementById('roomModal')) {
                        this.closeModal();
                    }
                });
            }

            checkSubmissionSuccess() {
                const urlParams = new URLSearchParams(window.location.search);
                if (urlParams.get('submission') === 'success') {
                    this.showNotification('Room submitted successfully! It will be visible after admin approval.', 'success');
                    // Clean URL
                    window.history.replaceState({}, document.title, window.location.pathname);
                }
            }

            initializeFilters() {
                // Initialize price range display
                this.updatePriceInputs();
            }

            handleSearch() {
                const searchInput = document.querySelector('.search-input');
                const searchTerm = searchInput.value.toLowerCase().trim();

                if (searchTerm) {
                    this.filteredRooms = this.rooms.filter(room => 
                        room.location.toLowerCase().includes(searchTerm) ||
                        (room.title && room.title.toLowerCase().includes(searchTerm)) ||
                        room.type.toLowerCase().includes(searchTerm) ||
                        room.description.toLowerCase().includes(searchTerm) ||
                        room.features.some(feature => feature.toLowerCase().includes(searchTerm))
                    );
                } else {
                    this.filteredRooms = [...this.rooms];
                }

                this.applyAllFilters();
                this.updateResultsCount();
            }

            handleFilterChip(chip) {
                // Remove active class from all chips
                document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked chip
                chip.classList.add('active');

                const filterText = chip.textContent.toLowerCase();
                
                // Reset all type filters
                this.activeFilters.roomTypes = [];

                if (filterText !== 'all rooms') {
                    this.activeFilters.roomTypes.push(filterText);
                }

                this.applyAllFilters();
                this.updateResultsCount();
            }

            handlePriceSliderChange(value) {
                this.activeFilters.priceRange.min = 4000;
                this.activeFilters.priceRange.max = parseInt(value);
                this.updatePriceInputs();
                this.applyAllFilters();
                this.updateResultsCount();
            }

            handlePriceInputChange(type, value) {
                const numericValue = this.extractPrice(value);
                
                if (type === 'min') {
                    this.activeFilters.priceRange.min = numericValue;
                } else {
                    this.activeFilters.priceRange.max = numericValue;
                }

                this.updatePriceSlider();
                this.applyAllFilters();
                this.updateResultsCount();
            }

            handleCheckboxChange(checkbox) {
                const category = checkbox.closest('.filter-section').querySelector('h3').textContent.toLowerCase();
                const value = checkbox.nextElementSibling.textContent.toLowerCase();
                const isChecked = checkbox.checked;

                switch (category) {
                    case 'location':
                        this.updateArrayFilter(this.activeFilters.locations, value, isChecked);
                        break;
                    case 'amenities':
                        this.updateArrayFilter(this.activeFilters.amenities, value, isChecked);
                        break;
                    case 'preferred for':
                        this.updateArrayFilter(this.activeFilters.preferredFor, value, isChecked);
                        break;
                }

                this.applyAllFilters();
                this.updateResultsCount();
            }

            handleSortChange(sortValue) {
                this.currentSort = sortValue.toLowerCase();
                this.sortRooms();
                this.renderRooms();
            }

            handleNavigation(section) {
                // Smooth scroll to section
                const targetElement = document.querySelector(section);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            }

            updateArrayFilter(array, value, shouldAdd) {
                if (shouldAdd) {
                    if (!array.includes(value)) {
                        array.push(value);
                    }
                } else {
                    const index = array.indexOf(value);
                    if (index > -1) {
                        array.splice(index, 1);
                    }
                }
            }

            extractPrice(priceString) {
                return parseInt(priceString.replace(/[^\d]/g, '')) || 0;
            }

            updatePriceInputs() {
                const minPriceInput = document.querySelector('.price-inputs input:first-child');
                const maxPriceInput = document.querySelector('.price-inputs input:last-child');
                const priceSlider = document.querySelector('.price-range input[type="range"]');

                minPriceInput.value = `Rs ${this.activeFilters.priceRange.min.toLocaleString()}`;
                maxPriceInput.value = `Rs ${this.activeFilters.priceRange.max.toLocaleString()}`;
                priceSlider.value = this.activeFilters.priceRange.max;
            }

            updatePriceSlider() {
                const priceSlider = document.querySelector('.price-range input[type="range"]');
                priceSlider.value = this.activeFilters.priceRange.max;
            }

            applyAllFilters() {
                let filtered = [...this.rooms];

                // Price range filter
                filtered = filtered.filter(room => {
                    const roomPrice = this.extractPrice(room.price);
                    return roomPrice >= this.activeFilters.priceRange.min && 
                    roomPrice <= this.activeFilters.priceRange.max;
                });

                // Location filter
                if (this.activeFilters.locations.length > 0) {
                    filtered = filtered.filter(room => {
                        const roomLocation = room.location.toLowerCase();
                        return this.activeFilters.locations.some(location => 
                            roomLocation.includes(location)
                        );
                    });
                }

                // Amenities filter
                if (this.activeFilters.amenities.length > 0) {
                    filtered = filtered.filter(room => {
                        return this.activeFilters.amenities.every(amenity => 
                            room.features.some(feature => 
                                feature.toLowerCase().includes(amenity)
                            )
                        );
                    });
                }

                // Room type filter
                if (this.activeFilters.roomTypes.length > 0) {
                    filtered = filtered.filter(room => {
                        return this.activeFilters.roomTypes.some(type => 
                            room.type.toLowerCase().includes(type)
                        );
                    });
                }

                this.filteredRooms = filtered;
                this.sortRooms();
                this.renderRooms();
            }

            sortRooms() {
                switch (this.currentSort) {
                    case 'price: low to high':
                        this.filteredRooms.sort((a, b) => 
                            this.extractPrice(a.price) - this.extractPrice(b.price)
                        );
                        break;
                    case 'price: high to low':
                        this.filteredRooms.sort((a, b) => 
                            this.extractPrice(b.price) - this.extractPrice(a.price)
                        );
                        break;
                    case 'newest first':
                        // For user-added rooms, use approval date; for default rooms, use ID
                        this.filteredRooms.sort((a, b) => {
                            const dateA = a.approvedAt ? new Date(a.approvedAt) : new Date(a.id);
                            const dateB = b.approvedAt ? new Date(b.approvedAt) : new Date(b.id);
                            return dateB - dateA;
                        });
                        break;
                    default: // recommended
                        // Default sorting - mix of default and user rooms
                        break;
                }
            }

            renderRooms() {
                const container = document.getElementById('roomsContainer');
                
                if (this.filteredRooms.length === 0) {
                    container.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: #666;">
                            <h3>No rooms found matching your criteria</h3>
                            <p>Try adjusting your filters or search terms</p>
                            <button class="list-room-btn" style="margin-top: 1rem;" onclick="window.location.href='room-submission.html'">
                                List Your Room
                            </button>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = this.filteredRooms.map(room => `
                    <div class="room-card" onclick="homigoApp.openModal(${room.id})">
                        <div class="room-image-container">
                            <img src="${room.image}" alt="${room.type}" class="room-image">
                            <div class="room-badge">${room.type}</div>
                            <button class="favorite-btn ${this.favorites.has(room.id) ? 'favorited' : ''}" 
                                    onclick="event.stopPropagation(); homigoApp.toggleFavorite(${room.id})">
                                ${this.favorites.has(room.id) ? '‚ô•' : '‚ô°'}
                            </button>
                        </div>
                        <div class="room-info">
                            <div class="room-type">${room.type}</div>
                            <div class="room-price">${room.price}<span>/month</span></div>
                            <div class="room-location">üìç ${room.location}</div>
                            <div class="room-features">
                                ${room.features.map(f => `<span class="feature-tag">${f}</span>`).join('')}
                            </div>
                        </div>
                        <div class="room-footer">
                            <button class="contact-btn" onclick="event.stopPropagation(); homigoApp.contactOwner('${room.phone}')">Contact</button>
                            <button class="details-btn">View Details</button>
                        </div>
                    </div>
                `).join('');
            }

            updateResultsCount() {
                const resultsCount = document.querySelector('.results-count');
                const count = this.filteredRooms.length;
                resultsCount.textContent = `${count} room${count !== 1 ? 's' : ''} available`;
            }

            openModal(roomId) {
                const room = this.rooms.find(r => r.id == roomId);
                if (!room) return;

                const modal = document.getElementById('roomModal');
                const modalImages = document.getElementById('modalImages');
                const modalDetails = document.getElementById('modalDetails');

                // Create images grid
                modalImages.innerHTML = `
                    <div class="modal-img-main modal-img">
                        <img src="${room.images[0]}" alt="Main image">
                    </div>
                    ${room.images.slice(1, 5).map((img, index) => `
                        <div class="modal-img">
                            <img src="${img}" alt="Room image ${index + 2}">
                        </div>
                    `).join('')}
                `;

                // Create modal details
                modalDetails.innerHTML = `
                    <div class="modal-header">
                        <div class="modal-title">
                            <div class="modal-type">${room.type}</div>
                            <div class="modal-price">${room.price}<span style="font-size: 1rem; color: #666;">/month</span></div>
                            <div class="modal-location">üìç ${room.location}</div>
                        </div>
                        <div class="modal-contact">
                            <button class="modal-contact-btn" onclick="homigoApp.contactOwner('${room.phone}')">
                                üìû Call Owner
                            </button>
                            <button class="modal-whatsapp-btn" onclick="homigoApp.whatsappOwner('${room.phone}')">
                                üí¨ WhatsApp
                            </button>
                        </div>
                    </div>
                    <div class="modal-description">
                        <h3>About this room</h3>
                        <p>${room.description}</p>
                    </div>
                    <div class="features-grid">
                        ${room.features.map(feature => `
                            <div class="feature-item">
                                <span class="feature-icon">‚úì</span>
                                <span>${feature}</span>
                            </div>
                        `).join('')}
                    </div>
                    ${room.userAdded ? `
                    <div style="margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
                        <small>‚úÖ Verified by Homigo Team</small>
                    </div>
                    ` : ''}
                `;

                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            closeModal() {
                document.getElementById('roomModal').classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            contactOwner(phone) {
                if (confirm(`Call ${phone}?`)) {
                    window.location.href = `tel:${phone}`;
                }
            }

            whatsappOwner(phone) {
                const cleanPhone = phone.replace(/[^\d]/g, '');
                const message = `Hello, I'm interested in your room listing on Homigo. Could you please provide more details?`;
                const whatsappUrl = `https://wa.me/${cleanPhone}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }

            toggleFavorite(roomId) {
                if (this.favorites.has(roomId)) {
                    this.favorites.delete(roomId);
                    this.showNotification('Removed from favorites', 'info');
                } else {
                    this.favorites.add(roomId);
                    this.showNotification('Added to favorites!', 'success');
                }
                
                this.saveFavorites();
                this.renderRooms();
            }

            showNotification(message, type = 'info') {
                // Remove existing notification
                const existingNotification = document.querySelector('.homigo-notification');
                if (existingNotification) {
                    existingNotification.remove();
                }

                const notification = document.createElement('div');
                notification.className = `homigo-notification homigo-notification-${type}`;
                notification.style.cssText = `
                    position: fixed;
                    top: 100px;
                    right: 20px;
                    background: ${type === 'success' ? '#4CAF50' : '#ff6b35'};
                    color: white;
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    z-index: 5000;
                    animation: slideInRight 0.3s ease;
                    max-width: 300px;
                `;
                
                notification.textContent = message;
                document.body.appendChild(notification);

                // Auto remove after 3 seconds
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.style.animation = 'slideOutRight 0.3s ease';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 3000);
            }
        }

        // Add CSS animations for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
            
            .favorite-btn.favorited {
                color: #ff6b35;
            }
        `;
        document.head.appendChild(style);

        // Initialize the app when DOM is loaded
        let homigoApp;
        document.addEventListener('DOMContentLoaded', () => {
            homigoApp = new HomigoApp();
            window.homigoApp = homigoApp;
        });

        // Global functions for backward compatibility
        function openModal(roomId) {
            if (window.homigoApp) {
                window.homigoApp.openModal(roomId);
            }
        }

        function closeModal() {
            if (window.homigoApp) {
                window.homigoApp.closeModal();
            }
        }

        function contactOwner(phone) {
            if (window.homigoApp) {
                window.homigoApp.contactOwner(phone);
            }
        }

        function whatsappOwner(phone) {
            if (window.homigoApp) {
                window.homigoApp.whatsappOwner(phone);
            }
        }

        function toggleFavorite(roomId) {
            if (window.homigoApp) {
                window.homigoApp.toggleFavorite(roomId);
            }
        }

        // Original rooms data - stored as defaultRooms
        const defaultRooms = [
            {
                id: 1,
                type: 'Single Room',
                price: 'Rs 8,500',
                location: 'Koteshwor, Kathmandu',
                image: 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=600',
                images: ['https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=600', 'https://images.unsplash.com/photo-1540518614846-7eded433c457?w=600', 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600', 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=600', 'https://images.unsplash.com/photo-1631679706909-1844bbd07221?w=600'],
                features: ['WiFi', '24/7 Water', 'Shared Kitchen'],
                description: 'Cozy single room perfect for students. Located near colleges and markets. Peaceful environment with friendly neighbors.',
                phone: '+977 9841234567'
            },
            {
                id: 2,
                type: 'Double Room',
                price: 'Rs 15,000',
                location: 'Baneshwor, Kathmandu',
                image: 'https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?w=600',
                images: ['https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?w=600', 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600', 'https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=600', 'https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=600', 'https://images.unsplash.com/photo-1617806118233-18e1de247200?w=600'],
                features: ['Furnished', 'WiFi', 'Parking', 'Balcony'],
                description: 'Spacious double room with modern furniture. Great for couples or working professionals. Near office areas and shopping centers.',
                phone: '+977 9851234567'
            },
            {
                id: 3,
                type: 'Attached Kitchen',
                price: 'Rs 12,000',
                location: 'Pulchowk, Lalitpur',
                image: 'https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=600',
                images: ['https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=600', 'https://images.unsplash.com/photo-1556909114-44e3e70034e2?w=600', 'https://images.unsplash.com/photo-1556909212-d5b604d0c90d?w=600', 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600', 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600'],
                features: ['Private Kitchen', 'WiFi', 'Attached Bath'],
                description: 'Room with attached kitchen facility. Perfect for those who love cooking their own meals. Clean and well-maintained.',
                phone: '+977 9861234567'
            },
            {
                id: 4,
                type: 'Flat',
                price: 'Rs 25,000',
                location: 'Sanepa, Lalitpur',
                image: 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600',
                images: ['https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600', 'https://images.unsplash.com/photo-1502672023488-70e25813eb80?w=600', 'https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600', 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=600', 'https://images.unsplash.com/photo-1505693314120-0d443867891c?w=600'],
                features: ['2 Rooms', 'Kitchen', 'WiFi', 'Parking', 'Garden'],
                description: 'Beautiful flat with 2 bedrooms. Ideal for small families. Located in prime area with all facilities nearby.',
                phone: '+977 9871234567'
            },
            {
                id: 5,
                type: 'Apartment',
                price: 'Rs 35,000',
                location: 'Lazimpat, Kathmandu',
                image: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600',
                images: ['https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600', 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600', 'https://images.unsplash.com/photo-1560448205-4d9b3e6bb6db?w=600', 'https://images.unsplash.com/photo-1560449752-8b5933e3e5e6?w=600', 'https://images.unsplash.com/photo-1560448075-cbc16bb4af8e?w=600'],
                features: ['3 Rooms', 'Fully Furnished', 'Elevator', 'Security'],
                description: 'Luxury apartment in diplomatic area. Premium facilities with 24/7 security. Perfect for executives and expats.',
                phone: '+977 9881234567'
            },
            {
                id: 6,
                type: 'Single Room',
                price: 'Rs 7,000',
                location: 'Chabahil, Kathmandu',
                image: 'https://images.unsplash.com/photo-1540518614846-7eded433c457?w=600',
                images: ['https://images.unsplash.com/photo-1540518614846-7eded433c457?w=600', 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=600', 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600', 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=600', 'https://images.unsplash.com/photo-1631679706909-1844bbd07221?w=600'],
                features: ['Budget Friendly', 'Near Temple', 'Peaceful'],
                description: 'Affordable single room near Boudhanath. Good for budget-conscious students. Close to bus stops and markets.',
                phone: '+977 9801234567'
            },
            {
                id: 7,
                type: 'Double Room',
                price: 'Rs 18,000',
                location: 'Jawalakhel, Lalitpur',
                image: 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600',
                images: ['https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600', 'https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=600', 'https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=600', 'https://images.unsplash.com/photo-1617806118233-18e1de247200?w=600', 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600'],
                features: ['Furnished', 'WiFi', 'Attached Bath', 'Quiet Area'],
                description: 'Well-maintained double room in residential area. Perfect for couples or friends sharing. Safe neighborhood.',
                phone: '+977 9811234567'
            },
            {
                id: 8,
                type: 'Attached Kitchen',
                price: 'Rs 14,500',
                location: 'Naxal, Kathmandu',
                image: 'https://images.unsplash.com/photo-1556909212-d5b604d0c90d?w=600',
                images: ['https://images.unsplash.com/photo-1556909212-d5b604d0c90d?w=600', 'https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=600', 'https://images.unsplash.com/photo-1556909114-44e3e70034e2?w=600', 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600', 'https://images.unsplash.com/photo-1565538810643-b5bdb714032a?w=600'],
                features: ['Kitchen', 'WiFi', 'Parking', '24/7 Water'],
                description: 'Room with attached kitchen in central location. Great access to restaurants and cafes. Modern amenities.',
                phone: '+977 9821234567'
            },
            {
                id: 9,
                type: 'Flat',
                price: 'Rs 28,000',
                location: 'Baluwatar, Kathmandu',
                image: 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=600',
                images: ['https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=600', 'https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600', 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600', 'https://images.unsplash.com/photo-1502672023488-70e25813eb80?w=600', 'https://images.unsplash.com/photo-1505693314120-0d443867891c?w=600'],
                features: ['2 Rooms', 'Parking', 'Garden', 'Security'],
                description: 'Spacious flat in premium location. Near embassies and diplomatic zone. Excellent for families.',
                phone: '+977 9831234567'
            },
            {
                id: 10,
                type: 'Single Room',
                price: 'Rs 9,500',
                location: 'Bhaktapur Durbar Square',
                image: 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=600',
                images: ['https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=600', 'https://images.unsplash.com/photo-1631679706909-1844bbd07221?w=600', 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=600', 'https://images.unsplash.com/photo-1540518614846-7eded433c457?w=600', 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600'],
                features: ['Heritage Area', 'WiFi', 'Peaceful'],
                description: 'Traditional room in cultural heritage area. Experience authentic Newari culture. Close to tourist spots.',
                phone: '+977 9841234568'
            },
            {
                id: 11,
                type: 'Apartment',
                price: 'Rs 42,000',
                location: 'Jhamsikhel, Lalitpur',
                image: 'https://images.unsplash.com/photo-1560449752-8b5933e3e5e6?w=600',
                images: ['https://images.unsplash.com/photo-1560449752-8b5933e3e5e6?w=600', 'https://images.unsplash.com/photo-1560448075-cbc16bb4af8e?w=600', 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600', 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600', 'https://images.unsplash.com/photo-1560448205-4d9b3e6bb6db?w=600'],
                features: ['3 Rooms', 'Gym', 'Pool', 'Fully Furnished'],
                description: 'Premium apartment with swimming pool and gym. Located in vibrant Jhamsikhel area. All luxury amenities included.',
                phone: '+977 9851234568'
            },
            {
                id: 12,
                type: 'Double Room',
                price: 'Rs 16,500',
                location: 'Thimi, Bhaktapur',
                image: 'https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=600',
                images: ['https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=600', 'https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=600', 'https://images.unsplash.com/photo-1617806118233-18e1de247200?w=600', 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600', 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600'],
                features: ['Parking', 'Garden', 'Quiet', 'WiFi'],
                description: 'Peaceful double room away from city noise. Perfect for those seeking tranquility. Traditional architecture.',
                phone: '+977 9861234568'
            },
            {
                id: 13,
                type: 'Attached Kitchen',
                price: 'Rs 11,000',
                location: 'Buddhanagar, Kathmandu',
                image: 'https://images.unsplash.com/photo-1565538810643-b5bdb714032a?w=600',
                images: ['https://images.unsplash.com/photo-1565538810643-b5bdb714032a?w=600', 'https://images.unsplash.com/photo-1556909212-d5b604d0c90d?w=600', 'https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=600', 'https://images.unsplash.com/photo-1556909114-44e3e70034e2?w=600', 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600'],
                features: ['Kitchen', 'Balcony', 'WiFi', 'Shared Bathroom'],
                description: 'Affordable room with kitchen facility. Near New Buspark. Good for students and working professionals.',
                phone: '+977 9871234568'
            },
            {
                id: 14,
                type: 'Flat',
                price: 'Rs 32,000',
                location: 'Patan Dhoka, Lalitpur',
                image: 'https://images.unsplash.com/photo-1505693314120-0d443867891c?w=600',
                images: ['https://images.unsplash.com/photo-1505693314120-0d443867891c?w=600', 'https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600', 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600', 'https://images.unsplash.com/photo-1502672023488-70e25813eb80?w=600', 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=600'],
                features: ['3 Rooms', 'Parking', 'Heritage View', 'WiFi'],
                description: 'Flat with view of Patan Durbar Square. Cultural ambiance with modern facilities. Family-friendly.',
                phone: '+977 9881234568'
            },
            {
                id: 15,
                type: 'Single Room',
                price: 'Rs 6,500',
                location: 'Gongabu, Kathmandu',
                image: 'https://images.unsplash.com/photo-1631679706909-1844bbd07221?w=600',
                images: ['https://images.unsplash.com/photo-1631679706909-1844bbd07221?w=600', 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=600', 'https://images.unsplash.com/photo-1540518614846-7eded433c457?w=600', 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600', 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=600'],
                features: ['Budget', 'Near Bus Park', 'Shared Kitchen'],
                description: 'Very affordable single room. Perfect for students on tight budget. Near bus station for easy commute.',
                phone: '+977 9801234568'
            },
            {
                id: 16,
                type: 'Apartment',
                price: 'Rs 38,000',
                location: 'Bakhundole, Lalitpur',
                image: 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600',
                images: ['https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600', 'https://images.unsplash.com/photo-1560448205-4d9b3e6bb6db?w=600', 'https://images.unsplash.com/photo-1560449752-8b5933e3e5e6?w=600', 'https://images.unsplash.com/photo-1560448075-cbc16bb4af8e?w=600', 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600'],
                features: ['3 Rooms', 'Elevator', 'Security', 'Parking'],
                description: 'Modern apartment building with elevator. Professional management. Near Patan Hospital.',
                phone: '+977 9811234569'
            },
            {
                id: 17,
                type: 'Double Room',
                price: 'Rs 13,500',
                location: 'Balkhu, Kathmandu',
                image: 'https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=600',
                images: ['https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=600', 'https://images.unsplash.com/photo-1617806118233-18e1de247200?w=600', 'https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=600', 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600', 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600'],
                features: ['Furnished', 'WiFi', 'Market Nearby'],
                description: 'Double room near Ring Road. Easy access to all parts of valley. Shopping centers nearby.',
                phone: '+977 9821234569'
            },
            {
                id: 18,
                type: 'Attached Kitchen',
                price: 'Rs 13,000',
                location: 'Kalanki, Kathmandu',
                image: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600',
                images: ['https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600', 'https://images.unsplash.com/photo-1556909212-d5b604d0c90d?w=600', 'https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=600', 'https://images.unsplash.com/photo-1556909114-44e3e70034e2?w=600', 'https://images.unsplash.com/photo-1565538810643-b5bdb714032a?w=600'],
                features: ['Kitchen', 'WiFi', 'Parking', 'Attached Bath'],
                description: 'Independent room with kitchen. Near colleges and IT companies. Ideal for working professionals.',
                phone: '+977 9831234569'
            },
            {
                id: 19,
                type: 'Flat',
                price: 'Rs 29,500',
                location: 'Kupondole, Lalitpur',
                image: 'https://images.unsplash.com/photo-1502672023488-70e25813eb80?w=600',
                images: ['https://images.unsplash.com/photo-1502672023488-70e25813eb80?w=600', 'https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600', 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600', 'https://images.unsplash.com/photo-1505693314120-0d443867891c?w=600', 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=600'],
                features: ['2 Rooms', 'Rooftop', 'WiFi', 'Parking'],
                description: 'Flat with rooftop access. Great mountain views. Near restaurants and cafes in Kupondole.',
                phone: '+977 9841234569'
            },
            {
                id: 20,
                type: 'Single Room',
                price: 'Rs 8,000',
                location: 'Putalisadak, Kathmandu',
                image: 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=600',
                images: ['https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=600', 'https://images.unsplash.com/photo-1540518614846-7eded433c457?w=600', 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600', 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=600', 'https://images.unsplash.com/photo-1631679706909-1844bbd07221?w=600'],
                features: ['Central Location', 'WiFi', 'Near Market'],
                description: 'Single room in heart of city. Walking distance to shopping areas. Perfect location for city lovers.',
                phone: '+977 9851234569'
            },
            {
                id: 21,
                type: 'Apartment',
                price: 'Rs 45,000',
                location: 'Maharajgunj, Kathmandu',
                image: 'https://images.unsplash.com/photo-1560448205-4d9b3e6bb6db?w=600',
                images: ['https://images.unsplash.com/photo-1560448205-4d9b3e6bb6db?w=600', 'https://images.unsplash.com/photo-1560449752-8b5933e3e5e6?w=600', 'https://images.unsplash.com/photo-1560448075-cbc16bb4af8e?w=600', 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600', 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600'],
                features: ['4 Rooms', 'Premium', 'Generator', 'Garden'],
                description: 'Luxury apartment in VIP area. Near embassies and hotels. Top-tier amenities and security.',
                phone: '+977 9861234569'
            },
            {
                id: 22,
                type: 'Double Room',
                price: 'Rs 17,500',
                location: 'Satdobato, Lalitpur',
                image: 'https://images.unsplash.com/photo-1617806118233-18e1de247200?w=600',
                images: ['https://images.unsplash.com/photo-1617806118233-18e1de247200?w=600', 'https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=600', 'https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=600', 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=600', 'https://images.unsplash.com/photo-1560448204-603b3fc33ddc?w=600'],
                features: ['Furnished', 'Parking', 'WiFi', 'Balcony'],
                description: 'Well-furnished double room. Near Ring Road for easy commute. Peaceful residential area.',
                phone: '+977 9871234569'
            },
            {
                id: 23,
                type: 'Attached Kitchen',
                price: 'Rs 10,500',
                location: 'Kalimati, Kathmandu',
                image: 'https://images.unsplash.com/photo-1556909114-44e3e70034e2?w=600',
                images: ['https://images.unsplash.com/photo-1556909114-44e3e70034e2?w=600', 'https://images.unsplash.com/photo-1556909212-d5b604d0c90d?w=600', 'https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=600', 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600', 'https://images.unsplash.com/photo-1565538810643-b5bdb714032a?w=600'],
                features: ['Kitchen', 'Near Market', 'Budget Friendly'],
                description: 'Affordable room with kitchen near vegetable market. Fresh produce available daily. Good connectivity.',
                phone: '+977 9881234569'
            },
            {
                id: 24,
                type: 'Flat',
                price: 'Rs 27,000',
                location: 'Imadol, Lalitpur',
                image: 'https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600',
                images: ['https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600', 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600', 'https://images.unsplash.com/photo-1502672023488-70e25813eb80?w=600', 'https://images.unsplash.com/photo-1505693314120-0d443867891c?w=600', 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=600'],
                features: ['2 Rooms', 'Parking', 'Garden', 'WiFi'],
                description: 'Family flat in developing area. Great investment opportunity. Peaceful environment with modern facilities.',
                phone: '+977 9801234570'
            }
        ];

        // Make defaultRooms available globally
        window.defaultRooms = defaultRooms;
    </script>
</body>
</html>